<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:body>
	<f:metadata>
		<f:event listener="#{usuarioView.inicializarPerfis()}"
			type="preRenderView" />
	</f:metadata>
	<ui:composition template="template.xhtml">
		<ui:define name="content">
			<h:form id="form">
				<p:messages id="msgs" showDetail="false" closable="true" />

				<p:panel id="panel" header="Dados cadastrais">
					<h:panelGrid columns="2" cellpadding="5">

						<h:outputText value="" />
						<h:inputHidden id="id" disabled="#{usuarioView.desabilitado}"
							value="#{usuarioView.usuarioLoginBean.usuarioLogador.id}" />

						<h:outputText value="Nome: " />
						<p:inputText id="nome" disabled="#{usuarioView.desabilitado}"
							value="#{usuarioView.usuarioLoginBean.usuarioLogador.nome}" />

						<h:outputText value="E-mail: " />
						<p:inputText id="email" disabled="#{usuarioView.desabilitado}"
							value="#{usuarioView.usuarioLoginBean.usuarioLogador.email}"
							requiredMessage="Informe um e-mail válido" required="true" />

						<h:outputText value="Login: " />
						<p:inputText id="login" disabled="#{usuarioView.desabilitado}"
							value="#{usuarioView.usuarioLoginBean.usuarioLogador.login}" />

						<h:outputText value="Senha: " />
						<p:inputText id="s" disabled="#{usuarioView.desabilitado}"
							value="#{usuarioView.usuarioLoginBean.usuarioLogador.senha}" />

						<p:outputLabel for="advanced" value="Temas:" />
						<p:themeSwitcher id="advanced" style="width:165px" effect="fade"
							value="#{usuarioView.tema}" required="true" disabled="#{usuarioView.desabilitado}"
							requiredMessage="Escolha um tema">
							<f:selectItem itemLabel="Escolha um tema" itemValue="" />
							<f:selectItems value="#{usuarioView.temas}" var="theme"
								itemLabel="#{theme}" itemValue="#{theme}" />
							<p:ajax listener="#{usuarioView.updateTema()}" />
						</p:themeSwitcher>
						<!-- 
						<p:password id="senha" value="#{usuarioView.usuarioLoginBean.usuarioLogador.senha}"
							feedback="true" promptLabel="Uma senha é obrigatório"
							weakLabel="Senha fraca" goodLabel="Senha segura" strongLabel="senha muito segura" />
							 -->
					</h:panelGrid>

					<p:commandButton value="Salvar"
						actionListener="#{usuarioView.atualizarUsuarioNaoAdm()}"
						update="@form" disabled="#{usuarioView.desabilitado}" />
					<p:commandButton value="Editar"
						actionListener="#{usuarioView.habilitar()}" update="@form"
						process="@this" disabled="#{!usuarioView.desabilitado}" />
				</p:panel>

			</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>
