<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:body>
	<ui:composition>

		<h:form id="form-corretora">
			<p:panel header="Dados da corretora" id="panel-corretora">

				<p:messages id="msgs-corretora" showDetail="true" showSummary="true"
					closable="true" />

				<h:panelGrid columns="4" cellpadding="10">
					<h:outputText value="Razão Social" />
					<p:inputText id="rz" size="50"
						placeholder="Informe seu nome ou razão social" required="true"
						requiredMessage="Informe a razão social"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.razaoSocial}"
						disabled="#{usuarioView.desabilitado}" />

					<h:outputText value="CPF/CNPJ" for="cpnfcnpf" />
					<p:inputText id="cpnfcnpf" placeholder="Informe o CPF ou CNPJ"
						size="18" required="true" requiredMessage="Informe o CPF ou CNPJ"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.cpfCnpj}"
						disabled="#{usuarioView.desabilitado}">
						<p:ajax event="change"
							listener="#{usuarioView.corretoraView.validarIdentidade()}"
							update="panel-corretora" />
					</p:inputText>

					<h:outputText value="E-mail de cobrança" />
					<p:inputText id="emailc" placeholder="seu@mail.com.br" size="50"
						required="true" requiredMessage="Informe o e-mail de cobrança"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.emailCobranca}"
						disabled="#{usuarioView.desabilitado}" />

					<h:outputText value="CEP" />
					<p:inputMask id="cep" mask="99999-999" size="9"
						placeholder="00000-000" required="true"
						requiredMessage="Informe o CEP"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.cep}"
						disabled="#{usuarioView.desabilitado}">
						<p:ajax event="change"
							listener="#{usuarioView.corretoraView.obterCep()}"
							update="end nu ba uf cd" />
					</p:inputMask>

					<h:outputText value="Endereço" />
					<p:inputText id="end" size="50" required="true"
						requiredMessage="Informe o endereço"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.endereco}"
						disabled="#{usuarioView.desabilitado}" />

					<h:outputText value="Número" />
					<p:inputText id="nu" size="5" required="true"
						requiredMessage="Informe o número"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.numero}"
						disabled="#{usuarioView.desabilitado}" />

					<h:outputText value="Bairro" />
					<p:inputText id="ba" required="true"
						requiredMessage="Informe o bairro"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.bairro}"
						disabled="#{usuarioView.desabilitado}" />

					<h:outputText value="UF" />
					<p:inputText id="uf" size="5" required="true"
						requiredMessage="Informe o estado"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.uf}"
						disabled="#{usuarioView.desabilitado}" />

					<h:outputText value="Cidade" />
					<p:inputText id="cd" required="true"
						requiredMessage="Informe a cidade"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.cidade}"
						disabled="#{usuarioView.desabilitado}" />

					<h:outputText value="Complemento" />
					<p:inputText id="com"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.complemento}"
						disabled="#{usuarioView.desabilitado}" />
						
					<h:outputText value="Telefone" />
					<p:inputText id="tel"
						value="#{usuarioView.usuarioLoginBean.usuarioLogador.corretora.telefone}"
						disabled="#{usuarioView.desabilitado}" />
						
					<h:outputText/>
					<h:outputText/>

					<p:commandButton value="Editar" update="panel-corretora"
						actionListener="#{usuarioView.habilitar()}"
						disabled="#{!usuarioView.desabilitado}" />

					<p:commandButton value="Salvar" update="panel-corretora"
						actionListener="#{usuarioView.atualizarCorretora()}"
						disabled="#{usuarioView.desabilitado}" />

				</h:panelGrid>

			</p:panel>
		</h:form>

	</ui:composition>
</h:body>
</html>
